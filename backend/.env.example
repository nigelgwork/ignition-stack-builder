# IIoT Stack Builder - Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ===================================
# Application Settings
# ===================================
ENVIRONMENT=development  # development, staging, production
DEBUG=True
API_HOST=0.0.0.0
API_PORT=8000

# ===================================
# Security & Authentication
# ===================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET_KEY
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Session secret for cookie signing
SESSION_SECRET=CHANGE_ME_TO_RANDOM_SECRET_KEY

# ===================================
# Database - Authentication & User Data
# ===================================
AUTH_DB_HOST=auth-db
AUTH_DB_PORT=5432
AUTH_DB_NAME=stack_builder_auth
AUTH_DB_USER=stack_builder
AUTH_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# Full connection string (alternative to above)
# AUTH_DATABASE_URL=postgresql://stack_builder:password@auth-db:5432/stack_builder_auth

# ===================================
# Redis (Optional - for token blacklist/sessions)
# ===================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===================================
# CORS Settings
# ===================================
CORS_ORIGINS=http://localhost:3500,http://ignitionvps.gaskony.me:3500
CORS_ALLOW_CREDENTIALS=true

# ===================================
# Email (for verification/password reset)
# Optional: Configure if you want email features
# ===================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=IIoT Stack Builder

# ===================================
# Rate Limiting
# ===================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ===================================
# MFA Settings
# ===================================
MFA_ISSUER_NAME=IIoT Stack Builder
MFA_REQUIRED=false  # Set to true to enforce MFA for all users

# ===================================
# Logging
# ===================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=/app/logs/app.log

# ===================================
# Docker Hub API (for fetching versions)
# ===================================
DOCKER_HUB_API_URL=https://hub.docker.com/v2
